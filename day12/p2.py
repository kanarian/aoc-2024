from collections import deque

inp_test="""AAAA
BBCD
BBCC
EEEC"""

inp_test_sep_regions="""OOOOO
OXOXO
OOOOO
OXOXO
OOOOO"""

inp_larger="""RRRRIICCFF
RRRRIICCCF
VVRRRCCFFF
VVRCCCJFFF
VVVVCJJCFE
VVIVCCJJEE
VVIIICJJEE
MIIIIIJJEE
MIIISIJEEE
MMMISSJEEE"""

inp_larger_easier="""OOOOOOOOOO
OOOOOOOOOO
OOOOOOOOOO
OOOOOOOOOO
OOOOOOOOOE
OOOOOOOOEE
OOOOOOOOEE
OOOOOOOOEE
OOOOOOOEEE
OOOOOOOEEE"""

inp_e="""EEEEE
EXXXX
EEEEE
EXXXX
EEEEE"""

inp_ab="""AAAAAA
AAABBA
AAABBA
ABBAAA
ABBAAA
AAAAAA"""

inp_real="""DDDDDDDAAAAAAAAAAAAAAAAIIIIIIIIEEEEEEEERRRRRBBBBBRRRRRRRRRRRRIUUUIXIIIIIPPPPPPPPPPPPPPWWPPPPPPPPXXXXHXXUUUUUUUUUUUUUUUPWWWWWWWWWCJJJJJJZZZZZ
DDDDDDAAAAAAAAAAAAAAAAAAIIIIIIIIEEEEEERRRRRBBBBBBBBRRRRRRRRRIIUUUIIIIIIIPIPPPPPPPPPPPPPWPPPPPPPXXXXXXXXUUUUUUUUUUUUUUUPWWWWWWWWWJJJJJJJZZZZZ
DDCCCCCAAAAAAAAAAAAAAAAAAIIIIIIEEEEEEERRRRRBBABBBBBRRIRRRRRRIIIIIIIIIIIIIINNPPPPPPPPPPPWPWWWPPPXXXXXXXXUUUUUUUUUUUUUUUPPPWWWWWWWJJJJJJZZZZZZ
DDCCCCAAAAAAAAAAAAAAAAAAAIIIIEEEEEEEEERRRRRBBBBBBBBRRIRRRIIIIIIIIIIIIIIIINNPPPPPHPHHPPPWWWWWWWXXXXXXXXVVUUUUUUUUUUUPUPPPPPWWWWWJJJJJJJZZZZZZ
CCCCCCCAAAAAAAAAAAAAAAAAEIIIIIIIEEEEEERRRRRRBBBBBBBIIIIIIYIIIIIIIIIIIIIIINNNPPPPHHHHPPWWWWWWWYXXXXXXVVVUUUUUUUUUUUUPUPPPPPPWWWWJJJJJJJJZZZZZ
CCCCCCCATTAAALAAAAAEEAAEEIIIIIIIEEEEEERRRRBBBBBBBBBIIIIIIIGDGIIIIIIIIINNNNNNPPPHHHHHPPWWWWWWXXXXXXXXVVVVVUUVUUUUUUUPPPPPPPPPPWWJJJJJJJJJZJZZ
CCCCCCCATTAAALAAAAAEEEEEEEIIISIIIEEEEEERRRBBBBBBBBIIIIIIIIGGGGIIIIIINNNNNNNNPPPPHHHHWWWWWWWWWWXXXXVXVVVVVVVVVUUUUUPPPPPPPPPPPWJJJJJJJJJJJJZZ
ZCCCCTTTTTAANAAAAAAEEEEEEEIIIIIIUEEEERRRRBBBBBBBBBIGIIIIIDGGGGGIIIIINNNNNNNNPPHHHHHHHWWWWWWWWXXXXXVVVVVVVVVVVUUUUPPPPPPPPPPPSJJJJJJJQJJJJJZZ
CCCCCCCTTTATAAAAMEEEEEEEEUIUIIUUUUEEERRRBBBBBBBBBBDDIIIIIDGGGJGIIIIIINNNNNNNNNNTHHHHHWWWWWWWWWXXXXVVVVVVVVVVUUUUUPPPPPPPPPPPPSSUUJJJQJJJJJZZ
CCCCCCTTTTTTAAAAEEEEEEEEEUUUUUUUUUUEEEUUUUBBBBBBBBBDIIDDDDGGGGGGIIIIINNNNNNNNNNTHHHHHHWWWWWWBWXVVVVVVVVVVVVVVVUUPPPPPPPPPPPPPSPUUJJJQKJJMJZZ
CCCCCCCTAAAAAAAAAEEEEEEEUUUUUUUUUUUUUUUUUUBUBBBBDDDDDDDDDDGGGGIIIIISNNNNNNNNNNNNHHHHHWWWWWWBBWCVZZVVVVVVVVVVVVUUPPPPPPPPPPPPPPPUUUUQQQAQQQZZ
CCCCCCCAAAAAAAAAEEEEEEEGUUUUUUUUUUUUUUUUUUUUUBBBDDDDDDDDDDGGGGGRPPPPPPNNNNNNNHHHHHHHWWWWWWWWWWWZZZZVVVVVVVVVVVVVFPPPPPPPPPPPPPPUUUUBQQQQQQQZ
KCCCCKAAAAAAAAAAAEEEEEEEEUUUUUUUUUUUUUUUUUUUUBBDDDDDDDDDDDDGGGPRPPPPPNNNNNNNNHHHHHHHHWWWWWWWZZZZZZZVVVVVVVVVVVVVVPPPPBBPPPPPPIIUUUBBQQQQQQQQ
KKCCCKAAAAAAAAAARRAPENNNPUPUUUUUUUUUUUUUUUUKDDDDDDDDDDDDDDDGPGPPPPPPNNNNNNNNNHHHHHHWWWYWWWWZZZZZZZZZZVVVVVVVVVVVQQBBBBBBPPPPPPIUUUUBBQQQQQQQ
KKCCKKAYAAAAAAAAAAAPENNNPPPPUUUUUUUUUZZZZZKKKDKDMMDDDDDDDDDDPPPPPPPPPPNNNNNNNNHHHHHHWYYWWWWWWZZZZZNZZVVUVVVVVVQVQQQBBBBPPPPPPPJUBBBBQQQQQQQQ
KKKKKKAAAAAAAAAAAAAPENNNPPPPPUUJUUUUZZZZZZKZKKKDDDDDDDDDDDDDPPPPPPPPPPIINNNNNHHHHPHHWWWWWWWWWZZZNNNZZZVUUUUUVVQQQJJQQQBBPPPMPJJJJJJQQQQQQQQQ
KKKKKKAAAAAAAAAAAAPPPNNNPPPPPPPJUUUZZZZZZZZZZKKDDDDDDFDDDDDPPPPPPPPPPPNNNNNNNHPPPPHWWWWWWWWWWZZZNNNNNNVUUUUUUQQQQQQQQQQBBRRRRRJJJJJQQQQQQQQQ
KKKKKKKKATAAAAAGJPPPJNNNJJPMPPJJJUUUZZZZZZZZZKKDDDDDDFDDDDDDPPPPPPPPPMMMNNNZNNPPPPWWHWWPWWWWNZZZNNNVVNVUUUKKQQQQQGGQQRQRRRRRRRJJJJJJJFQQFFFF
KKKKKKKKKTTAAAGGJJJJJNNNJJJJJPJJJUUUUZLZZZZZZKKDDDDFFFDDDDDDDVPPPPPPPPPMNNNNCCCCPPPWHPPPWWWWNNNNNNNVVNVVVUKKQQQQQRGRRRRRRRRRRRRERJJJJFFFFFFF
KKKKKKKKKTTTTTGGGJJJJNNNJJJJJJJJOUUUUUZZZZZZZKKDKKDFFFFFFDDDDPPPEPPXPZPMMMMMMMMCPPPPPPPPWPWWNNNNNNNVVVVVVUKKKQQQRRGRRRRRRRRRRRRRRRJZBFFFFFFF
KKKKKKKKKTTTTTTGGGJJJNNNJJJJJJJFOOUUUUZZZZZZZKKKKKDPFFFFFFFFEEEEEDDDMMMMMMMMMMMMPPPPPPPPPPPWNNNNIINVVVVVVVKKKKBBBRGRRRRRRRRRRRRRRRRBBBFFFFFF
KKKKKKKTKTTTTTTTTJJJJNNNJJJJJJJFOOUAUNNZZZFFZKKKHKHPFFFFFFFFEEEEEEDDDDDMMMMMMMMUPPPPPPPPPPPPPNNIIIVVVVVVVBBBKKBBRRRRRRRRRRRRRRRRRRSBBBBBFFFF
KKKKKKTTKKTTKKKKGJJJJNNNJJJJJJJOOOOAUNNZZFFFFKKKHHHHFFFFFFFFEEEEEDDDDXXXXMMMMMMPPPPPPPPPPPPPQHNIIIVVVVVVVBBBBBBBBRRRRRRRRRRRRRRRRRRBBFFFFFFF
KKKKKKTTTTTTKKKMMJJJJJJJJJJJJJJJOOOONNNNZNNNHHHHHHXXFFFFFFFEEDEEDNDDDDXXXXMMMMMMPPPPPPPPPPPPQHNIIVVVVVVVVBBBBBBBBBRRRRRRRRRRRRRRRRBBBBBFFFFF
KKKKKKKTTTKKKKKMMRJJJJJJJJJJJJJJOOOOONNNNNNHHHHHHHXXFIFFFFFFDDDDDDDDDDXXXXXXMHHHPPPPHHPPPPPQQHHIIVVVVVVVVBBBBBBBBBRRFFRRRRRRRRRRRBBBBBBBFFFF
KKKKKKKKMTKKKKKMMMJMMMMJJJJJJJJOOOOOONNNNNNHHHHHHHHHFFFFFFDRDDDDDDDDDXXXXXXXMHHHPPPPHHPPPPPPHHHIIVZZZZZBBBBBBBBBBBRKFFFFRRRRRRRBRRRBBBBBBFFF
KKKKEEKMMOKKKJMMMMMMMMMJJSJJJJJOOOOOOONNNNGHHHHHHHHIFFFFFDDDDDDDDDDDDXXXXXXXXXHHHHPHHHHPPPPPHHZIIZZZZBBBBBBBBBBBFFKKFFFRRRFRFFFBBRRBBBBBBBBF
KKKKKOOOMOKKKOMMMMMMMMMMMSJJJJJOOOOOOONNNNGHHHHHHHHHFFFFDDDDDDDDDDDDDDDDXXXXXXHHHHHHHHHPPPHHHHZIIZZBBBBBBBBBBBBBFFFFFFFFFFFFFFBBBBBBBBBBBBBB
KKKKKOOOOOKKOOFMMMMMMMMMMMJJJJOOOOOOOONNNNGHHHHHHIHLFFFFFDZDDDDDDDDDDDDXXXXXXXXHHHHHHHHHPPHHHOZIZZZZZBBBBBBBBBBBFFFFFFFFFFFFFBBBBBBBBBBBBBBB
KKKKOOOOOOOOOOMDMMMMMMMMMMFFJOOOOOOZZZNZNZGHHHHHHHHLFFFFFDDDDDDDDDDDDDDXXXXXXXXXXXXHHHHPPPHHHZZZZZZZZBBZZWWBBWWFFFFFFFFFFFFFFBBBBBBBBBEEEBBB
KEOOOOOOOOOOOOMMMMMMMMHMMMIFFFOOOOOOZZZZZZGHHHHHHHHFFFFFFFDDDDDDDDDDDXXXXXXXXXXXHXXHHHHHHHHHHZZZZZZZZZBZZQWWWWWFFFFFFFFFFFFFFFBFBBBBBVEEBBBE
EEOOOOOOOOOOOOMMMMMMMMHHIIIBFOOOOOOOZZZZZZGGGHBVYHHFFFFFFFPPDDDDDDDNNNXXXXXXXXXXHXHHHHHHHHHHHWZZZZZZZBBZZWWWYWWFFIFFFFFFFFFFFFFFDDBBBBBEEEEE
EEOOOOOOOOOOOOXMMGMMZMMHIIZUUUOUUUOUUZZZZZGCVVVVVVHFFFFFFPPPDDDDDDNNNNXXXXNCXXXXHXHHHHHHHHHHHZZZZZZZZZZZZZWWWWWFFFFFFFFFFFFFFFFFDDDBBBBEEEEE
EEEOOOOOOOOOOOOGGGMGMMHHHUUUUUUUUUUUUUZUZUCCCCVVVVEEAAFFFPPPZDDDDNNNNNNXNXNCCXCVHHHHHHHHHHHHZZZZZZZZZZZZZZWWWWWFWFFFFFFFFFFFFFFFDDDBBBBEEEEE
EEEOOOOOOOOOOOOGGGGGMMHUUUUUUUUUUUUUUUUUUUUUCVVVVEEEEAAFPPPPZDDDNNNHNNNNNNNNCCCVCCCCHHHHHHHHZZZZZZZZZZZZZWWWWWWWWWWWFFFFZZIIIFZIIIIBEEEEEEEE
EEEEOOOOOOOOXXGGGGGGGMMUUUUUUUUUUUUUUUUUUUUUCVVVCEEPPAAAPPPPZDDNNNNHNNNNNCCCCCCCCCCCCHHHHHHHZZZZZZZZZZZZZLWWWWWWWWWWFFFFIIIIIFFIIIOEEEEEEBEE
EEEEEEOOOOOOXXGGGGGGGGGGGUUUUUUUUUUUUUUUUUUCCVVVEEEPPPPPPPPPPJDDNNHHNHNNCCCCCCCCCCCCCHHHHHHZZZZZZZZZZZZZZZWWWWWWWWWWFFTFTIIIIIIIIIIIEEEBEBEE
EEEEEYYYOYYOXXXGGGGGGGGGGUUUUUUUUUUUUUUUUCCCCCCCCCEEPPPPPPPPPJJJIIHHHHNCJCCCCCCCCCCCCCCHHHHIIIIZZZTTZZDDZVJJJWWWWWWFFTTTTTIIIIIIIIIEEEBBBBBB
EEEREEYYYYYXXXTGGGGGGGGGKUUUUUUUUUUUUUUUUCCCCCCCCCEEPPPPPPPPPJIIISSHHCCCCCCCCCCCCCCCCCCCAHHHIIIIZZTTTTJJJJJJJWWWWWWFWWWIIIIIIIIIIIIIEEBBBBBB
HEEEEEYYYYXXTTTGGGGGGGGKKKKGUUUUUUUUAUUUCCCCCCCCCCCPPPPPPPPPJJIIISHHHHHHHCCCCCCCCCCCCCCCAAHHHIIIZEITTTTJJJJJJJWWWWWWWWIIIIIIIIIIIIIIWBBBBBBB
HHHHHYYYYXXXXTTTGTGGGGKKKKKUUUUUUUULAAAAAWWWWWWWCCPPPPPPPPPPJJJIITHHHHHHCCCCCCCCCCCCCCCAAAAIIIIIIIITTTTTJJJJJJJWWWWWWWIIIIIIIIIIIIIIBBBBBBBB
HHHHYYYYYYXXXTTTGTGGGGKKKKKKLLUUAUULAAAAAWWWWWWWWWWWPPPPPPPPPPTTTTHHHHHHCCCCCCCCCCCCCAAAAAAAIIIIIIIITTTTJJJJJJJWWWWWWWWIIIIIIIIIIIIICCBBBBBB
HHHHHYYYYYYTTTTTTTTTTGGKKKKLLLULAAAAAAAABWWWWWWWWWWWPPPPWWPTPTTTTTTHHHHHCCCCCCCCCCCCCCAAAAAIIIIIIIIITTTTJJJJJJJWWWWWWVVIIIIIIIIIIIIIIIBBBBBB
HHHHHHHHYYYUTTTTTTTTTTTTTCKKLLLLAAAAAAAABWWWWWWWWWWWPPWWWWWTPTTTTTTHHHHHHTCCCCCCCCCCCAAAAAIIIIIIIIIITTTJJJJJJJJWWWWWVVVIIIIIIIIIIIIIIBBBBBBB
HHHHHHHHYYYUUTTTTTTTTTTUUKKKLLLAAAAAAAAAAWWWWWWWPPPPFFWWWWWTTTTTTTTHHHHHHTTTTTCCCCCAAAAAAAAAIIIIIIIIITTTJJJJJJJPWWWVVVVVVVIIIIIIIBBIBBBBBBBB
HHHHIHIHYHHUUTTTTTTTTTTTTEKLLLLLAAAAAAAPJWWWWWWWPPPPFFWWWWWTTTTTTTTTTHHHHTTTTTCCCCJAAAAAAAAAIIIIIIIIIITTTJJPJJJPPWWVVVVVVVVIIIIIBBBBBBBBBBBB
HHIIIIIHUUUUUUTTTTTTTTTTEEKWWLLLACAGAAAPPWWWWWWWPPPFFFFWWTTTTTTTTTTTTHHHTTTTTTTTTQJAAAAAAAAAIIIIIIIIIITCTTJPPPPPPPPVPVVVVVVTTTIIBBBBBBBBBBBB
IIIIIIZUUUUUUTTTTTTTTTTTTTPWWWPPPPBAAPPPPWWWWWWWPPPFFFFFFLLLLTTTTVTTTTTTTTTTTTTTTQQLAAQQAAQIIIIIIIIICCCCTPPPPPPPPPPPPVVVEVEETTIIBBBBBBBBBBBB
IIIIIIZUUUUUTTTTTTTTTTTTTDWWWWWPPPBBPPPPPWWWWWWWPFFFFFFLLLLLLLEVETTTTTTTTTTTTTTTTTQQWQQQQQQLIIIIYIIPPPCCCCPPPPPPPPPPEVVVEVEETTIIPBBBBBBBBBBB
IIIIIIIIUUUUUUTTTTTTTTTTTWWWWWPPPBBBPPPPPPPPPPPPPPFFFFLLLLLLLLEEEEEETTTTTTTTTTTTTQQQQQQQQQQQIIIIYNIPPPPPCCCPPPBPPPPPEEEEEEETTTITPBBBBBBBBBBB
IIIIIIKKUUUUUUTUUTTTGTGGGWWQWWPPPBBBPPPPPPPPMMPMPFFFFFLLLLLLLLEEEEEETTTTTTTTTTTTTQQQQQQQQQQQQQQYYNNNNPPCCCCCPPBPPPPPEEEEEEETTTTTBBBBBBBBBBBB
IIIIIIIIUUUUUUUUTTTTGGGGGWJWWPPPPBBBBPPPPPMMMMMMMFFFFFLLLLLLLLEEEEEEEEEAATTTTTQTTQQQQQQQQQQQQQQQYNNNPPPCCCCCCCBBPPPEEEEEEEEETTTTBBBBBBBBBBJJ
IIIIIIIIUUUUUUUUTTTTGGGGGWWGPPPPPPPBBPBPEPJMMMMMFFFFFFFLLLLLLLLEEEEAAEAAATAAQQQQQQQQQQQQQQQQQQHHYNNNPPPCCCCCCCCBPPPEEEEEEEEEETTTTBBHBBHHBBBB
IIIIIIIUUUUUUUUUTTTGGGGGGGGGGPPPPPPBBBBMMJJMMMMPPFFFFFFFLLLLLLEEEEAAAAAAAAAAAQRQQQQQQQQQQQQQQHHHHJNPPPPPGGCCCCCPPPEEEEEETTTEETTTTHHHBHHBBBBB
IIIIIIUUUUUUUUUUUUWWGGGGGGGGGPPPPPPPMBMMMMMMMMMMMFFFFFFLLLLLLLEAAAAAAAAAAAOOOOOQZZQQQQQQQQQQHHHHHHPPPPPPJGGCCCCGGGEEEEETTTTTTTTTTTHHRHHHBBBB
MIIIIIUUUUUUUUUUUUWWWGGGGQQGGGPPPPPPMMMMMMMMMMJJJFFFFFLLLLLLALAAAAAAAAAAAAOOOOOQZZQQQQQQQQQQHHHHHHPPPPPGGGGCGGGGGGEGGEETTTTTTTTTTHHHHHHHHBBB
IIIIIOUUUUUUUUUUUWWWWWQQQQQGPPPPPLPMMMMMMMMMMMMJJJFFXXLLLLAAAAAAAAAAAAAAAAOOOOOZZZZQQBBBBBBBWWHHHPPPPPPGGGGGGGGGGGGGTTTTTTTTHTHHHHHHHHHHBBBB
IIIILUUUUUUUUUUUWWWWWGQQQQQQQQPPPLPMMMMMMMMMMMMJJJJFXXXXLLLLAAAAAAAAAAAAAAOOOOOYBBBBBBBBBBBBWWWHHPPPPPGGGGGGGGGGGSSSTTTTTTTTHHHHHHHHHHHHHBBB
SIIILLUUUUUUUUUWWWWWWGQQQQQQQQQPQMMMMMMMMMMMMMMJJJJFXXXXXLAAAAAAAAAAOOOOOOOOOOOYBBBBBBBBBBBBWZHHHPPPPPGGGGGGGGGGSSSSSTTTTQQQHHHHHHHHHHHHHHHH
SIIILLUUUUUUUUUWWWWWGGQQQQQQQQQQQMMMMMMMMVVVVMJJJJJXXXXXXXYAAAAOOOOOOOOOOOOOOYYZBBBBBBBBBBBBZZZZPPPPPPGGGGGGGGGGGSSSTTTTTTQQQHGGHHHHHHHHHHHH
CCCCCCCUVVUUUUWWWWWQQQQQQQQQQQQQQQMMMMMMVVVZVVJJJJXXXXXXXXAAAAAOOOOOOOOOOOOOOYYZBBBBZBBBBBBBZZZPPPPPPGGGGGGGGGGGSSGRTTTTQQQQQGGGHHHHHHHHHHHH
CCCCCCCCCCPKUUWWWWWQQQQQQQQQQQQQQQMMMMVVVVVVVVVVJXXXXXXXXXNNAALOOOOOOOOOOOOOOYYYBBBBZBBBBBBBJZZOPPPPPPPGGGGGGGGGGGGGTTTTTTQQQQMMSSHHHHHHHHHH
SSCCCCCCCCKKWWWWWWQQQQQQQQQQQQQQQMMMMVVVVVVVVVVXXXXXXXXXBBNNDALOOOOOOOOOOOOOOYYZBBBBBBBBBBBBZZZOPPPPPPUUGGGGGGGGGGGGGTTTTTTQQZMMSSHKHKKKKKKK
SCCCCCCCCKKWWWWWWWWQQQQQQQQQQQQQQQMMMMMVVVVVVVVQXXXXXXXXXBNNDAAOOOOOOOOOOOOOOYNNBBBBBBBBBBBBZOOOPPPPPUUUGGGGGGGGGGGGGTTTTTTQQZMMSSHKKKKKKKKK
SCCCCCCCUKFWWWWWWWWWQQQQQQQQQQQQQEEMMMMVVVVVVVVVXXXXXXXXXXNNNAAOOOOOOXXXXXXXXYYNBBBBBBBBBBBZZOEEEEPPPUUUUGGGGGGGGGGGGGUUTZZZZMMMSMMMJJKKKKKK
SSSCCCCCUGGGGWWWWWWWQQTQQQQQQEQQQEEMMMMMVVVVVVEEEXXXXXXXXNNNNNGOOOXXXXXXXXXXXQXNBBBBBBBBBBBZUUBEEEUUUUUUUUKGGGGGGTGGGGUUTZZZMMMMMMMMJJKKKKKK
CCCICCCCGGGGGWWWWWWWWQQQQQQQQEEEEEEEEMMMVVVVVVEEEGXXXXXNXXNNIDGOOOXXXXXXXXXXXQQNBBBBBBBBBBBZUUUUUEUUUUUUUUUGGUGCCTTGUUUUUZZZPMMMMMMMJJKKKKKK
CCCCCCCGGGGGGWWWWWWWWQQQQQQQQEEEEEEEEMMVVEVEVVEGEGGXRXNNDDDDDDGOOOXXXXXQQQQQQQQNNNBBBBBBBBBBBBUUUUUUUUUUUUUNCCCCCTCCCUUUUUUUUUUUUUUMMKKKKKKK
HCCCCCCGGGGGGGGGWWWWWWWQQQQQQEEEEEEETTTTVEEEEEEGGGGXXMDDDDDDDDDGXXXXXXXXXQQQQQQQNNBBBBBBBBBBBBUUUUUUUUUUUUUUCCCCCCCCCCZUUUUUUUUUUUUMKKKKKKKK
HCOCCCCGGGGGGGGGWWWWWKKKKQVVQEEETTTTTTTTTEEEEEEGGGGGVPXDDDDDDDDDDCCXXXXXXQHQQQQQQVBBBBBBBBBBBBUUUUUUUUUUUUUCCCCCCACCCCZUUUUUUUUUUUUOKKKKKKKK
CCCCCCCGGGGGGGGGGGWWIKKEEEVEBBEETTTTTTTTTEEGGGGGGGGGGPPPPPDDCCCCCCCXXXXXXHHQQQQQQVBBBBBBBBBBBBUUUUUUUUUUUUCCCCCCCCCCCCCKKKUUUMMMMMOOOKKKKKKK
CCJCWWWWGGGGGGGGGGWIIIKEEEEETBEETTTTTTTTTTTGGGGGGGGGEPBBBBDDBCCCCCCXXXXXXQHQQQZQQVBBBBBBBBBBBBUUUUUUUUUUUCCCCCCCCCCCCCKKKKUUUPPPPOOOOOKKKKKK
GCCCCGGGGGGGGGGGGGIIIKKEEEEETTTTTTTTTTTTTTGGGGGGGGGGBBBBBBDDBBBCCCCCCRQQQHHHQQQQQVBBBBBBBBBBBBIUUUUUUUUUUUCCCCCCCCCCCCCKKKUUUPPPOOOLOYKKKQQK
GGGGGGGGGGGGGGGGGGIIIIIEEEEETTTTTTTTTTTTTTGGGGGGGGGBBBBBBBBBBBCCCCCCCRRHHHHHQHHVVVBBBBBBBBIIIIIUUUUUUUUUUCCCCCCCCCCCCKKKKKPPPPPPPOOOYYYQQQQQ
GGXGGGEGGGGGGGGGIIIIIIIEEEEEETTTTTTTTTTBDTGGGGGGGGGGGBBBBBBBBBCCCCCCCRRHHHHHHHHHVHHHHHIIIIIIIIMMMMUUUUUUCCCCCCCCCCCCCKKKKKKPPPPOOOOYYYYQQQQQ
GXXGGGGGGGGGGGGGGIIIIIIEEEEETTTTTNTTTTTBDBBBGGGGGGGGGBBBBBBBBBBCCCCCCRLHHHHHHHHHHHHHHIIIIIIIIIIMUUUUUUIICCCCCCCCCCCCCKKKKKPPPPPOOPOYYYYYQQQQ
XXXXGGGGGGGGGGGGGIIIIIIEEEEETTTTTNNETTBBBBBBGGGGGGGGGGBBBBBBBBBCCCCCCCHHHHHHHHHHHHHHIIIIIIIIIIIMMMMMUIIIICCCCCCCCCCCKKKPPPPPPPPOOPOYYYYYQQYY
TXXGGGXCCGXGGGGGGIIIIIIEEEEEETTTTNNBBBBBBBBBBGGGGGGGGBBBBBBBBBBCCCCCCCCHHHHHHHHHHHHHIIIIIIIIIDHHMHHMUIIIICCCCIRRRRCCKKKKPPPPPPPPPPPYYYYYYYYY
TXXXGGXXXXXGGGGGGFITTIIEEEEEEETTNNNBBBBBBBBBBBBGGGGGGBBBBBBBBBBBBCCCCCHHHHHHHHHHHHHHHHIIIWWIHHMHHHHQHHIIIIIIIIRRRRKKKKNKPUPPPPPPPPPYYYYYYYYY
XXXXXXXXXFXYFFGGFFFTTTTTEEEEEEENNNNBBBBBBBBBBBBGGGGGGBBBBBBBBBBBBCCCCCHHHHHHHHHHHHPIIIIIIIWIHHHHHHHHHHIIIIIIRRRRRRKKKNNIINPPPPPPPPYYYYYYYYYY
XXXXXXXXJFFFFOOGGTTTTTTTTEEEEEEENNNBBBBBBBBBBBBGGGGGBBBBBBBBBBBBBCCCCCHHHHHHHHHHPHPIIIIIWWWBHHHHHHEEIRIIIIILLRRRRRKKKNNNNNPPPPPPYYYYYYYYYYYY
GXXXXXKXXFFFFFOOOTTTTTTTTEEEEEENNNNBBBBBBBBBBBBBGGGTRRBBBBBBBBBBBCCCCCHHHHHHHHHHPPPIIIIIWWWHHHHHHHEEIIIIIZLLLLLLLLKKKNNNTTTJPPPOYYYYYYYYYRYY
XXXXXXXXXFFOOOOXXTTTTTTTTEEEENNNNNNNBBBBBBBBBBBBBGGTRTTBBBBBBBBBHHCCHHTHHHHHHHHHPPIIIIIWWWWWHHHHHHHEEIIIILLLLLLLIIIIKINNNTTJPPPOYYYYYYYTYRRY
XXXXXFXXXFXXXXOXTTTTTTTTTEEEENNNNNBBBBBBBBBBBBBBBBTTTTTBBBBBBBBMMHHHHHHHBHHHHPPPPPPPPIPPWWWWUHHHHHHEEEIILMLLLLLLLIIKKINNNTTTTTTTYYYYZTTTYRRY
XXXXFFXXFFXXXXXXXXTTTTTTTEEEEMMMMBBBBBBBBBBBBBGGNNTTTTTTTTTBTBBBHHHHHHHHHHHHHPPPPPWPPPPWWWWWWWTHHHEEEIIELLLLLLLLIIIIIITTTTTTTTTYYYYTTTTTTRRR
XXXOXFFXFXXQXXXXXXXTTTTTTEEMMMMMMMBBBBBBBGGGGGGGGGTTTTTTTTTTTNNHHHHHHHHHHHHHPPPPPPWWPWWWWWWWWWWEEEEEEEEELLLLLLLLLIIITTTTTTTTTTRYYYYQTTTTRRGR
XXXXXFFFFFXXXXXXXTTTTTTTTTTTMMMMMMBBBBBBLLLGGGGHGGTTTTTTTTTTTNNNHHHHHHHHHPPPPPPPCCCWWWWWWWWWWWWWEEEEEEELLLLLLLLLLILLOTTTTTTTTTTTYQQQQTTTQRRR
XXXXFFFFFFXXXXXXTTTTTTTTTTTTTTMMMMBBMMLLLLLGGGGGGGTTTTTTTTTTTNNNHHHHHHHHHPPPPPCCCCCRWWWWWWWWWWEEEEEEEEELLLLLLLLLLLLLLTTTTTTTTTTTTQQQQTTQQRQQ
FFFFFFFFFFXXXXXXTTTTTTTTTTTXTTTMMMMMMMLLLLGGGGGGGGTTTTTTTTTTTTNVHHHHHHHHHHHPCCCCCCCCCWWWWWWWWEEEEEEEEEEVLLLLLLLLLLLLLTTTTTTTTTTTTQQQQTQQQQQQ
FFFFFFFFXXXXXXXXTTTTTTTTTXXXTSTXXMMMMLLLLLLLGGLTTTTTTTTTTTTTTVVVHHHHHHHHHHHCCCCCCCCCWWWWWWWWWWWWEEEEVVVVVVLVVLLVVVBBWWTTTTTTTTTTTTQQQQQXQXXQ
FFFFFFFFFXXXXXXXXTTTTTTTTTXXXXXXXXMMMMMLLLLLLOLDDDDDTTTTTTTQQQQQHWHHHHHHHCCCCCCCCCCCCWWWWWWWWWWWEWWEVVVVVVVVVVLVVVBBBWTTTTTTTTTTTTQQQQQXXXXX
FFFFFFFFFFXXXXXXJJTTTTTTTMXXXXXXXXXMIIMLLLLLLLLDDDDTTTTTTQQQQQQHHHHHHHHHHCCCQCCCCCCCWWWWWWWWWWWLWWWVVVVVVVVVVVVVVVPBBWTTTTTTTTTTTTQQQQQQQXXX
FFFFFFFFFFFXXXXJJTTTTTTTTMMXXXXXXXIIIILLLPLLDRDDDDDTTTTQTQQQQQEHHHHHHHHHHHHCCCCCCCZCWWWWWWWWWWWWWWWVVVVVVVVVVVVVVBBBBWTTTTTTTTTTTTQQQQQQQQXX
FFFFFFOFFFOIXIJJJJJJJJJJJXXXXXXXXXIIIIIELPLLDDDDDDDDTTQQQQQQQQEEHEEHHHHHHRRRRRCCCCZCEEWWWWWWWWWWWWWVVVVVVVVVVVVVVVBBBBTTTTTTTTTTTQQHHHQQQQXQ
FFFFOOOOOOOIIIIJJJJJJJJJJXXXXXXXUIIIIIIELILLDDDDDDDDTTQQQQQQQQEEEEHHHHVVVVVRRRCCJJJJJJWJJWWWWSDDWWWVVVVVVVVVVVVVBBBBBBBBTBBBBTTRTHHHHHHHHQXQ
FFFFFFFOOOIIIIIJJJJJJJJJXXXXIXXUUIIIIIIIIIIIEDDDDDDDQTQQQQQQQQEEVVVVVVVVVVVRRRCCJJJJJJMEEWWWSSSDSSWVVVVVVVVVVVVBBKBBBBBBBBBBBTTRRHHHHHHHQQQQ
FFFFFFOOOIIIIIYZJJJJJJJJIEIXIXUUUUIIIIIIIIIEEEEDDDDAQQQQQQQEEEEOVVVVVVVVVVVRRRCCJJJJJJJETTTTSVSDSSSVVVVVVVVVVVVBBBBBBBBBBBBBRRRRHHHHHHQHQQQQ
FFFFFFFOOOIYYYYJJJJJJJJIIIIIIUUUUUIIIIIIIIIEEEDDDDAAAQQQQQQEEEOKVVVVVVVVVVVRRRRRJJJJJJJEEETTSSSSSSSVVVVVVVVVVBBBBBBBBBBBBBBRRRRDHHHHHHQQQQQQ
FFFFFFFOOOOOYYYYYYYYJJIIIIIIIUUUUPIIIIIIIIIEEEDEDDDAAQQQQQQOEOOOOOOLXXVVVVVRRRRJJJJJJJOEEEEESSSSSSSSSVVVVVVVVBBBBBBBBFBFBBBBBDDDDDHHQQQQQQQQ
FHHFFOOOOOOOOYYYYYJJJJIIIIIIPUUUPPPPIIIIIIQQQEEEEDAAAAAQXQOOOOOOOOOOXXVVVVVRRRRJJJJJJJJEEEESSSSSSSSSVVVVVVVVJBJJBBBBBFFFBBBTTTDDDDHHQQQQQQQQ
HHHHFOOOOOOJOYYYYYJJJJIIIIIPPPUPPPPPIIIIIQQPPQQAAAAAAAXXXXOOOOOOOOOOXXVVVVVRJJJJJJJJJJJEEEESSSSSSSSVVVVVVJJJJJJJBBBBFFFFFBBTDDDDDDHHHQQQQQQQ
HHOOOOOOOOOOOYYYYYJJJJIIIIIIPPPPPPPPQQQQQQQQQQQAAAAAAAXXXXOOOOOOPOOOOXXXXXXRRJJRJJJEEEEEEEEEEESSSSSSVVVVVJJJJJJJJBBBFFFFFFBTDDDDDDDMQQQQQQQQ
HHHOOOOOOOOJJJJYJJJJJGGGIIIIPPPPPBPQQQQQNQQQQQQQQAAAAAAXXXOOOOOOOOOXXXXXXXRRRRRRJJJJEEEEEEEEEEESSSSSSVVVVDJAJJJJJJFFFFFFFFSDDDDDDDDQQQQQQQQQ
HHHHOOOOOOOJJJJJJJJJJGGGGGIPPPPPPBBQQQQQNNNNQQQQQAAAAAAAAXOOOOOOOOOXXXXXXXRRRRRRRRJEEEEEEEEEEEEEESSSSSVVSSAAJJJJJJFFFFFFFFDDDDDDDDDQQQQQQQQQ
HHHHHOOOOJJJBBBBBJJJGGGGGIIIPPPPPBBQQQQQNNNDQQLAAAAAAAAAXXXOOOOOOOXXXXXXJXRRRRRRREJEEEEEEEEEGEEEESSSSSSSSSSSBJJJJJJSFFFFFFFFDDDDDDDQQQQQQQQQ
HHHHHHHHHHJJBBBBBBBGGGGGGGIIIIPPPBBBQQQQNDNDQQLLAAGAKKKKXXXXXONOOOXXXXXXJXXRRRRRREEEEEEEEEEELEKEELSSSSSSSSSYJJJJJJJSFFFFFFLDDDDDDQQQQQQQQQQQ
HHHHHHHHBJJJBBBBBBBGGGGGEIIIIIPPPPBQQQQQDDNDLLLLLGGGGKKKXXXXXKNNOOXXXXXXJXRRRRRRRUEEEEEEEEELLLLEILLLLSSSSSSYJJJJJJJYFJJJFJJJDDDDDDQQQQQQQQQQ
HHHHHHHHBBBBBBBBBBBGGGGGGGGIIPPPPPPDDQQQDDDDLLLLLGGGGKKKKKXXXKNOOOJJJXJJJRRRRRRRREEEEEEEEELLLLLLLLLLLSSSSSSJJJJJJJJYYJJJJJJWDDDDDDQQQYYYQQQQ
HHHHHHHBBBBBBBBBBBBBGGGGGGGBBBBBPPDDDDDDDDDDLLLZLLGGGKKKKKKKKKNNNOJJJJJJJRRRRRRDDDDDEEEEEELLLLLLLLLLLLLSSSJJJJJJJJJYYYJJJJJJDDDKQQQQYYYYYQQQ
HHHHHHBBBBBBBBBBBBBBGGGGGGGGBBBBMMDDDDDDDDDDLLLLLGGGGKKKKKKKKKNJJJJJJJJJJJRRRRRDDDDDDDELLELLLLLLLLLLLLLLLSCCAJJJJJYYYJJJJJJJJJDGQQGGYYYYYQQQ
HHHHHHHHBBBBBBBBBBBBGGGGGGGGGBBMMDDDDDDDDDDLLLLLLGKKGKKKKKKKKKNJJJJJJJJJJJJRRRDDDDDDDEELLLLLLLLLLLLLLLLLASACAAAYJYYYYYYJXJJJJKGGGGGGGAYYQQQQ
HHHHHHHBBBBBBBBBBGGGGGGGGGGBBBBMMMDDDDDDDDDDLLRLXXKKKKKKKKKKKKNNUUJJJJJJJJJRRRRDDDDDDELLLLLLLLLLLLLLLLLAAAACAAAYJYYYYYYJXXEEJGGGRRRRAAYYIQQQ
HHHHHHBBBBBBBBBBBGGGGGGQQQGQBQQMMMDDDDILLLDLLLLLXXXKKKKKKKKKKNNNNUUJJUUJJJJJRJJJDDDDLLLAAAAALLLLLLLLLLIAAAAAAAAYYYYYYYXXXXXEEEGGRRRRGAYQQQQA
HHHHHHBBBBBBBBBBBBGHGGGQQQQQQQQMMMIIIIILHLLLLLQQXXXXXKKKKKKKKKNNNUUUUUUJJJJJJJJJJJDAAAAAAAAAALLLLLLLLAIAAAAAAAAAYYYYYXXXXXXGGGGGRRRRGAAAAAAA
HHHHHHHBBBIBBBBBBHHHGQQQQQQQQQQMIIIIIIIIIILLDDXQXXXXXXJJKKKKKKNNNNUUUUUUUUJJJJJJJAAAAAAAAAAAALLLLLLLLAAAAAAAAAAYYYYYYYYYYXXGGGGGRRRRGAAAAAAA
HHHHHHHHHIIIBBHBBHHHQQQQQQQQQQQMMIIIIIIIIIILIIXXXXXXXJJJKJJKKKNNNUUUUUUUUJJJJJJJJJGGAAAAAAAAALLLLLLLAAAAAAAAAAAAYYYYYYYYYYYYGGGGRRRRAAAAAAAA
HHHHHLLHHHHHBBHHHHHQQQQQQQQQQQQQIIIIIIIIIIIIIICCCCCCCCCJJJJJJUUUUUUUUUUUDUJJJJJJJGGAAAAAAAAAALLLLLLZOOAAAAAAAAAAAYYYYYYYYYGGGGGGRRRRGAAAAAAA
HLHHLLLLHHHHHHHHHHHHFQQQQQQQQQQQQIIIIIIIIIIIIICCCCCCCCCJJJJJJOOUUUUUUUUUUUJJJJJJJJAAAAAAAAAAALDDVVLZOOOAAAAAAAAAAYYYYYYYYYYYGGVGRRRRPAAAAAAA
HLLHLLLDHHHLHHHHHHHHQQQQQQQQQQQQQIIIIIIIIIIIHICCCCCCCCCJJJJJJJJJJUUUUUUUUUJJJJJJJJIIIAAAAAAAAXDDVVVOOOOAAAAAAAAAAAAYYYYYYYYYKKGGRRRRPAAAAAAA
HHLLLLLLLLHLLHHHHHHHXQQQQQQQQQQQUUIIIIIIIIIIHICCCCCCCCCCCCCJJJJJJUUUUUUUUUJJJJJJJJJIIAAAAXYXXXXXVVVVOAAAAAAAAAAAAAAYYYYYYCCCKKGGRRRRPPPPZZZA
LLLLLLLLLLLLLHYHHHHHXQQQQQQQQQQQUIIIIIIIIIIIIICCCCCCCCCCCCCJJJJJJUUUUUUUUUUMPJSJIIIIIIACXXXXXXXXVVVVAAAAAAAAAAAAAAYYYYYYYCCCKKRRRRRRPPPPMZZZ
LLLLLLLLLLLLLLYYYYYYXXXXQQQQQQQIIIIIIIIIIIIIIICCCCCCCCCCCCCJJJJJJUUUUUUUUMMMMSSSISIIIICCCXXXXXXXXVVVVVVVAAAAAAAALLYYYYYCCCCCCCPPPPPPPPPPZZBZ
LLLLLLLLLLLLVYYYYYYYXXXXXQQQQQQIIIIICCIIIIIIIICCCCCCCCCCCCCCCJJJJUUUUUMMMMMMMMSSSSSSSICXXXXXXXXXXXXXVVVVAAVAAALLLLYYYYYCCCCCCCCCPZPPPPPPZZZZ
LLLLLLLLLLLLVYYYYYYXXXXXQQQQQQIIIIIIIIIIIIIIMIGGGGGGGUCCCCCCCJJJJJUUUUMMMMMMMSSSSSSSSSSUXXXXXXXXXXXVVVVVAAVAVAALVCYYYYCCCCCCCCCCPPPPPPPPPPOO
LLLLLLLLLLLLYYYYYYXXXXXXQQQYIQIIIIIIIIIIIIIIMGGGGGGGGGCCCCCCCJJJJJJJUUMMMMMMSSSSSSSSSSSSXXXXXXXXXXXVVVVVVVVVVVVVVCYYYYCCCCCCCCCCPPPPPPPPPOOO
LLLLLLLLLLLLYYYYYYXXXXXXXQXIIIIIIIIIIUIIIIIIMGGGGGGGAACCCCCCCJJJCJUUUUMMMMMMSSSSSSUSSSSFXXXXXXXXXXXVVVVVVVVVVVVGVCGGGEEECCCCCCCCCPPPPPPPPOOO
LLLKLLLLLLLYYYYYYYXXXXXXXQIIIIIIIIIIIUUIIIMMMGGGGGGAAWWWWJJJJJJCCJUUUUMMMMMMSSKKKSUSSSSXXXXXXXXXXXXXVVVVVVVVVVVGCCGGEEEEFCCCCCCCCPPPPPPPPOOO
LLKKLLYLLLYYYYYYYYLLXXXXXXXXIIIIIIIIIUMMMIIMMMGGMMGAAAWWWJJJJJJJCCCMMMMMMMMMMMKKKKWWWZZXXXXXXXXXXXXVVVVVVVVVXGVGGGGEEEEEFCCCCCCCCPPPPPPPPOOO
LKKKKYYYYYYYYYYYYYSLXXLXLLIIIIIIIIIIIUMMMMMMMMMMMGGAAWWWWJJJJJJCCCCCCMMMMMMMMKKWKWSWWZZXZZXXXXXXMMXVVVVVVVVXXGGGGEGEEEEEFCCFCCCCCPPPPYYROOOO
LKKKKKYYYYYYYYYYYYYLXXLXLLIIIIIIIIYYYYMMMMMMMMMMMWWAAAWWWWJJJJCCCCCCMMMMMKKKKKKWWWWWWZZZZZXXXXXXMVVVVVVVVVVXXGXEEEEEEEEEFFFFCCFPPPPPPRRRRROO
KKKKKKKYYYYYYYYYYLYLLLLLLLLIIIIMIIIYYYMMMMMMMMMMMWWWWWWWWWCJJCCCCCCCMMMMKKKKKKWWWWWWWZZZZZXXRXXRMVVVVVXXXXXXXGXXEETEEEEFFFFFFFFPPPPPPPRRRROR
KKKKKKYYYYYYYYYYYLLLLLLLLLIIIMMMMIMMYYYMMMMMMMMMMMWWWWWWWWCCCCCCCCCCMMDKKKKKKKWWWWWWWWZZZZXXRRRRRRRVVVVVLXXXXXXXXETFFFFFFFFFFFFFPPPPPRRRRRRR
KKKKKKYYYYYYYYYYYLLLLLLLLLMMMMMMMMMYYYYYMMMMSSMSMSWWWWWWWCCCCCCCCCCCMMDCFCKKKWWWWWWWWWZWWZZRRRRRRRRVVVXXXXXXXXXXXXXXFFFFFFFFFFFPPPPPPRRRRRRR
KKKKKKKYYYYYYYYYLLLLLLLLLLLLLMMMMMMMMYYSSSSSSSSSSSWWWWWWWCCCCCCCCCCCCCCCFCKKKKWWWWWWWWWWZZZZRRRRRRRVVVHXXXXXXXXXXXXXXFFFFFFFFFFFPPFIIIRRRRRR
KKKKKKKKYYYYYYYYKKLLLLLLLLLLLMMMMMMMMSSSSSSSSSSSSSWWWWWWWWWCCCCCCCCCCCCCCCKKKKKKWWWWWWKWRRRRRRRHRRRRVHHXXXXXXXXXXXXFFFFFFFFFFFFFFFFIIIRRRRRR
KKKKKKKKKKYYKYYKKKLLLLLLLLLLMMMMMMMMMSSSSSSSSSSSSSWWWWWWWWCCCCCCCCCCCCCCCKKKKKKWWWWWWWKKRCRRRRHHHHHHHHXXXXXXXXXXXXXXFFFFFFFFFFFFFIIIIIIIRRDR
KKKKKKKKKKKKKKKKKKLLLLLLLLLLLMMMMMMMMSSSSSSSSSSSSSRRRRWWWWCCCCCCCCCCCCCCCKKKKKKWWWWWWKKKKRRRRRHHHHHHHHHXXXXXXXXXXXXFFFFFFFFFFFFFFIIIIIIIIRDD
KKKKKKKKKKKKKKKKKKLLLLLLLLLLMMMMMMMMMRSSSSSSSSSSSSRRRRRRRVVCCVVVVVCCCCCCCKKKKKKKKWWKKKKKKKRRRRHHHHHHHHXXXXXXXXXXXXFFFFFFFFFFFFFFFIIIIIIIIIDD
KKKKKKKKKKKKKKKKKKLKLLLLLLLMMMMMMMMMMMKSSSSSSSSSSSSSRRRRVVVVVVCCCCCCCCCCCKKKKKKKKKWKKKKKKKRRRRRHHHHHHHXXXXXXXXXXXXXFFFFFFFFFFFFFFFIIIIIIIDDD
KKKKKKKKKKKKKKKKKKKKKKKLMMMMMMMMMMMMMMKSSSSSSSSSSSSRRRRRRRRVCCCCCCCCHHCCCKKKKKKKKKKKKKKKRRRRHHHHHHHHHHXXXXXXXXXXXXXXFFFFFFFFFFFFFIIIIIIIIDDD"""

inp = inp_real

vals = [[el for el in line] for line in inp.split("\n")]

flatten = lambda xss: [x for xs in xss for x in xs]

# find all plant types
all_plant_types = list(set(flatten(vals)))

# for each plant_type, find all coordinates belonging to that plant_type

partition_plant_type = {}

for rowIdx, row in enumerate(vals):
    for colIdx, el in enumerate(row):
        if el in partition_plant_type:
            partition_plant_type[el].append((rowIdx,colIdx))
        else:
            partition_plant_type[el] = [(rowIdx, colIdx)]

# for a partition list, we should make sure that all elements are connected

get_left_coord = lambda x: (x[0],x[1]-1)
get_right_coord = lambda x: (x[0],x[1]+1)
get_up_coord = lambda x: (x[0]-1,x[1])
get_down_coord = lambda x: (x[0]+1,x[1])

def split_separate_regions(partition_list):
    different_regions = []
    this_q = []
    this_q.extend(partition_list)
    while this_q.__len__() > 0:
        this_start_node = this_q.pop()
        visited_cells = [this_start_node]
        to_consider = [this_start_node]
        while len(to_consider) > 0:
            curr_consider = to_consider.pop()
            [left, right, up, down] = [get_left_coord(curr_consider),get_right_coord(curr_consider),get_up_coord(curr_consider),get_down_coord(curr_consider)]
            for dir in [left,right,up,down]:
                # if dir is a valid element of the partition and we havent added it in visited cells yet:
                if dir in this_q and not dir in visited_cells:
                    visited_cells.append(dir)
                    # we should also consider dir
                    to_consider.append(dir)
                    # dir can be removed from this_q
                    this_q.remove(dir)
        different_regions.append(visited_cells)
    return different_regions

        
all_regions = {}
for plant_type in partition_plant_type:
    regions = split_separate_regions(partition_plant_type[plant_type])
    all_regions[plant_type] = regions

def find_area_given_region(region):
    return len(region)

def find_perimeter_given_region(region):
    perimeters = []
    for coord in region:
        [left, right, up, down] = [get_left_coord(coord),get_right_coord(coord),get_up_coord(coord),get_down_coord(coord)]
        if left not in region:
            perimeters.append(left)
        if right not in region:
            perimeters.append(right)
        if up not in region:
            perimeters.append(up)
        if down not in region:
            perimeters.append(down)

    # merge all coords on the same X level
    differen_sides = []
    this_q = []
    this_q.extend(perimeters)
    while this_q.__len__() > 0:
        this_start_node = this_q.pop()
        visited_cells = [this_start_node]
        to_consider = [this_start_node]
        while len(to_consider) > 0:
            curr_consider = to_consider.pop()
            [left, right] = [get_left_coord(curr_consider),get_right_coord(curr_consider)]
            for dir in [left,right]:
                if dir in this_q and not dir in visited_cells:
                    visited_cells.append(dir)
                    to_consider.append(dir)
                    this_q.remove(dir)
        differen_sides.append(visited_cells)


    # we can now get all SINGLE length sides if they differ one in Row value with eachother

    merge_length_one_row_axs = []
    differen_sides.sort()
    q = differen_sides
    while len(q) > 0:
        this_side = q.pop()
        if len(this_side) > 1:
            merge_length_one_row_axs.append(this_side)
            continue
        
        this_side_merged = this_side
        doneMerging = False
        while not doneMerging:
            doneMerging = True 
            for other_side in differen_sides:
                other_side.sort()
                if len(other_side) > 1:
                    continue
                if other_side[0] in this_side_merged:
                    continue
                for this_side in this_side_merged:
                    if (this_side[1] == other_side[0][1] and this_side[0] - 1 == other_side[0][0]) or (this_side[1] == other_side[0][1] and this_side[0] + 1 == other_side[0][0]):
                        this_side_merged.extend(other_side)
                        doneMerging = False
                        q.remove(other_side)
        
        merge_length_one_row_axs.append(this_side_merged)
    
    for side in merge_length_one_row_axs:
        print("side", side)
    
    return(len(merge_length_one_row_axs))


    # for side in merge_length_one_row_axs:
        # print("side",side)
    # print(len(merge_length_one_row_axs))
    # for side in differen_sides:
    #     if len(side) > 1:
    #         merge_length_one_row_axs.append(side)
    #     else:
    #         for side_two in differen_sides:
    #             if side_two == side:
    #                 continue
    #             if len(side_two) > 1:
    #                 continue
    #             # same col idx or 1 diff row
    #             if (side[0][1] == side_two[0][1] and side[0][0] - 1 == side_two[0][0]) or (side[0][1] == side_two[0][1] and side[0][0] + 1 == side_two[0][0]):
    #                 differen_sides.remove(side_two)
    #                 merge_length_one_row_axs.append([side[0],side_two[0]])



    # print("differen_sides")
    # differen_sides.sort()
    # for region in differen_sides:
    #     region.sort()
    #     print("region, ",region)
        



    # return len(perimeters)
    

total_price = 0
for plant_type in all_plant_types:
    print(f"plant type: {plant_type}")
    for region in all_regions[plant_type]:
        area = find_area_given_region(region)
        perimeter = find_perimeter_given_region(region)
        total_price += area*perimeter
        print(f"area={area} perimeter={perimeter}, area * perimiter = {area*perimeter}")
print(f"total price={total_price}")